---
import { Icon } from 'astro-icon/components';
import clsx from 'clsx';

export interface Props {
	color: 'primary' | 'secondary' | 'none';
	class?: string;
	text: string;
	icon: string;
}

const { class: styles, color, text, icon } = Astro.props;

const st = { 
	_: `mt-10 flex justify-center md:p-0 md:justify-start md:mt-[3vw]`,
		btn: {
			_: clsx(`group bg-gray-100 hover:bg-gray-200 active:bg-gray-300 w-full justify-center items-center border-black border-2 duration-[.5s] flex gap-10 py-button_y rounded-[3rem] font-text text-fluid-lg font-medium md:text-fluid-base md:w-fit md:px-16 lg:text-fluid-md`, {
				'md:hover:border-primary': color == 'primary',
				'md:hover:border-secondary': color == 'secondary',
			}),
			icon_wrap: {
				_: `w-[20px] hidden md:block md:group-hover:translate-x-[1.5rem] duration-[0.5s]`,
				icon: clsx(`duration-[0.5s]`,
				{
					'md:group-hover:text-primary': color == 'primary',
					'md:group-hover:text-secondary': color == 'secondary',
				}),
			},
		},
 };
---

<div class:list={[st._, styles]}>
	<button class={st.btn._} type='button'>
		<span>{text}</span>
		<div class={st.btn.icon_wrap._}>
			<Icon class={st.btn.icon_wrap.icon} name={icon} />
		</div>
	</button>
</div>